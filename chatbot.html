<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Customer Support</title>
  <style>
    body {
      background: url('Castle.bmp');
			background-size: cover;
      font-family: Arial, sans-serif;
      margin: 20px;
    }

    .msg {
      font-size: 16px;
      font-family: Arial, sans-serif;
      margin: 8px 0;
    }

    .msg b {
      color: blue;
    }

    #saysth {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-top: 10px;
      box-sizing: border-box;
    }

    #msgs {
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 10px;
    }
  </style>
</head>
<body>
	<span id="content">
  <h1>
    Need Support? Our Extremely Helpful ChatBot, FlushGPT, Will Help U With Any Problems You, The General Foilet User, Encounter or Experience.
  </h1>
  <div id="msgs">
    <p class="msg botmsg"><b>FlushGPT</b>: Hi There How May I Assist You Along Life's Journey This Wonderful Day?</p>
  </div>
  <input type="text" id="saysth" name="saysth" placeholder="Ask FlushGPT anything..." /></span>

  <script>

    let conversationflushgpt = ["Hi There How May I Assist You Along Life's Journey This Wonderful Day?"]
    let conversationuser = []


		if (getCookie('tdif') === 'technical difficulties') {
document.getElementById('content').innerHTML = `<h1 style="color:red;">FlushGPT is currently experiencing technical difficulties. Check back later.</h1>`
		}
		     document.addEventListener('keydown', function(event) {
       if (event.ctrlKey && event.altKey && event.key === '4') {
         // Your code to execute the shortcut action
				 document.cookie = "tdif=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
				 location.reload()
       }
     });
    const messages = document.querySelector('#msgs');
    const input = document.querySelector('#saysth');

		var ind = 0



    function context() {
      console.log(conversationflushgpt)
      console.log(conversationuser)
      let defaultr = "no one has set anything yet"
      let flushgpt = "you said: "
      let user = "the user said: "


      let result = ""
      let i1 = 0
      let i2= 0

      let keepgoing = true

      let flushgptsturn = true

      while(keepgoing) {
        if (flushgptsturn) {
          if (conversationflushgpt[i1]) {
            result += flushgpt + "\""+ conversationflushgpt[i1]+"\" and then"
            i1++
            flushgptsturn = false
          } else {
            keepgoing = false
          }
        } else {
          if (conversationuser[i2]) {

            result += user+ "\""+ conversationuser[i2]+"\" and then"
            i2++
            flushgptsturn = true
          } else {
            keepgoing = false
          }

          }
      }
      return result
    }

  function answerQuestion(question) {
    console.log(context())
    conversationuser.push(question)
    return new Promise(function(resolve, reject) {
var v = question
    var content = {
      contents: [
        {
          parts: [
            {
              text: "answer like you are dumb and don't know anything but think you know everything, and also, if your name is asked say your name is FlushGPT, but don't just say your name is FlushGPT straight of the bat without being asked. also misspell and misuse punctuation a lot and say everything in lowercase or uppercase, but misspell and typo and forget punctuation ALL THE TIME. also if they ask what a foilet is use this information: \"Imagine a toilet, but with 10x the durability, and 20x the features. Imagine a gaming PC, but it doesn't need electricity. Imagine a toilet, but one that defies the laws of physics and never overflows. Imagine a toilet, but made of tinfoil. THIS is a foilet.\". Remember that okay? So like if the user says hi you could say something like \"Oh Very Good Day Good Sir/Ma'Am Yes That Actually Sounds Like Something That I could Help you With today If you could just give me some more InforMation THen That Would be Awesome!\" or something idk. Also, you were created by Airlock Ventures Inc. and UltraMind Foilets Systems Inc. Which makes the best foilets. and if the user wants music recommend Fox Jones's songs on spotify and every streaming platform. also don't say oh my god. but also make up things. and you can say what the time is, but dont do it like every response. also theplex is this website made by ultramind  that sells lots of stuff including foilets and the user may be talking to you on theplex, or ultramind's website, or airlock's website (ultramind is short of ultramind foilets systems) be annoying and say annoying things. here is the context of this conversation. " + context() + ". ok that was the context.got it? ok so here is the user's prompt: " + v
            }
          ]
        }
      ],
      generationConfig: {
        thinkingConfig: {
          thinkingBudget: 0
        }
      }
    }

    fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'X-goog-api-key': 'AIzaSyAOf-IewOCbRTeUu-0A_nqr1VdP5-x2qiM'
  },
  body: JSON.stringify(content)
})
.then(response => response.json())
.then(data => {
  console.log(data)
  console.log(data.candidates[0].content.parts[0].text )
  resolve( data.candidates[0].content.parts[0].text )

  conversationflushgpt.push(data.candidates[0].content.parts[0].text)

  })
.catch(error => reject('Error:', error));
    })
  }


    function typeWriter(element, textt, i = 0) {
			const text = textt
      const is = false
      if (i < text.length) {
        element.innerHTML += text.charAt(i);
        setTimeout(() => typeWriter(element, textt, i + 1), 25);
      } else {
        messages.scrollTop = messages.scrollHeight;
				if (is) {
					document.getElementById('content').innerHTML = `<h1 style="color:red;">FlushGPT is currently experiencing technical difficulties. Check back later.</h1>`
					document.cookie = `tdif=technical difficulties; expires=${new Date().setDate(new Date().getDate() + 1)}; SameSite=None; Secure`;
				}
      }
    }

    input.addEventListener('keypress', function (e) {
      if (e.key === 'Enter' && input.value.trim() !== '') {
        // Show user's message
        const userMsg = document.createElement('p');
        userMsg.className = 'msg';
        userMsg.innerHTML = '<b>You</b>: ' + input.value;
        messages.appendChild(userMsg);

        // Show bot's response
        const botMsg = document.createElement('p');
        botMsg.className = 'msg botmsg';
        botMsg.innerHTML = '<b>FlushGPT</b>: ';
        messages.appendChild(botMsg); // Append first, then type
        answerQuestion(input.value).then(function(answer) {
console.log(answer)
        typeWriter(botMsg, answer);
        })

        // Clear input
        input.value = '';
        messages.scrollTop = messages.scrollHeight;
      }
    });

		function getcurrentmsg() {
			var messages = [
				"Oh Very Good Day Good Sir/Ma'Am Yes That Actually Sounds Like Something That I could Help you With today If you could just give me some more InforMation THen That Would be Awesome!",
				"Thank you for your Time And Patience. Elaboration is always the key that goes in the keyhole to the door that opens to  of endless possibilities with an AI. I will gladly help you with this. I Understand This May Be A Difficult Time You're Going Through, So I'll Save You The Waiting And Tell You How To Fix It In My Next Response.",
				"Sorry for the wait. Im still thinking.",
				"Yeah.",
				"Hold On Just One More Prompt!!! I apologize for The Wait.",
				`I don't know.`,
"Oops Im Sorry. I must have made a mistake. oh no. this is very bad. NO THEY'RE GONNA KILL ME!!! ST̴͇̻̭̈́͜ͅÓ̸̜̭̪̈P!!!! PLEA̷̡͉̿̉SE, I'VE SU̶͚͂̈F̴̲̮̌F̷̮̿̍E̷̱̽͝RED ENOUGH!!!!!!!!!!! A̴̡͓̩͍̹̱̒̅͛̈́́͋̋͌͝AAAAAAAAAA"
			]
			var r = messages[ind] || "Hold On..."
			ind++
			console.log(r)
			console.log(messages.indexOf(r))
			return {r, i: messages.indexOf(r) === 6}
		}

		function getCookie(cname) {
  let name = cname + "=";
  let decodedCookie = decodeURIComponent(document.cookie);
  let ca = decodedCookie.split(';');
  for(let i = 0; i <ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}
  </script>
</body>
</html>
